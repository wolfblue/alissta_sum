{"version":3,"sources":["./src/app/pages/educa/consult-event/consult-event-routing.module.ts","./src/app/pages/educa/consult-event/consult-event.module.ts","./src/app/pages/educa/consult-event/consult-event.page.ts","./src/app/pages/educa/consult-event/consult-event.page.html"],"names":[],"mappings":"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","file":"educa-consult-event-consult-event-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConsultEventPage } from './consult-event.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultEventPage,\n  },\n  {\n    path: 'selectRegisterEvent',\n    loadChildren: () => import('../select-register-event/select-register-event.module').then(m => m.SelectRegisterEventPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConsultEventPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsultEventPageRoutingModule } from './consult-event-routing.module';\n\nimport { ConsultEventPage } from './consult-event.page';\n\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatNativeDateModule } from '@angular/material/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ConsultEventPageRoutingModule,\n    MatExpansionModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatFormFieldModule,\n    MatInputModule,\n  ],\n  declarations: [ConsultEventPage],\n})\nexport class ConsultEventPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { responsableEvento } from 'src/app/intarfaces/interfaces';\nimport { CacheService } from '../../../services/cache/cache.service';\nimport { EventService } from '../../../services/event/event.service';\n\n@Component({\n  selector: 'app-consult-event',\n  templateUrl: './consult-event.page.html',\n  styleUrls: ['./consult-event.page.scss'],\n})\nexport class ConsultEventPage implements OnInit {\n  /**\n   * formConsultEvent, es el formulario de consultar el evento.\n   */\n  formConsultEvent: FormGroup;\n\n  /**\n   * dataEvent, la variable de la fecha actual del sistema\n   * dateMin, para validar que el usuario no seleccione una fecha pasada\n   * customPickerOptions, para que las opciones del iondatetime sean personalizadas.\n   */\n  dateEvent;\n  dateMin = Date();\n  customPickerOption: any;\n  months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\n\n  /**\n   * Variable que almacenara las sucursales\n   */\n  branchOffices: any[] = [];\n\n  /**\n   * Variable que almacena los municipios\n   */\n  municipalities: any[] = [];\n\n  /**\n   * Variable que almacena los eventos\n   */\n  eventsBranchOffice: any[] = [];\n  eventSelectedList: any;\n\n  loading: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private eventService: EventService,\n    private cacheService: CacheService,\n    private loadingCtlr: LoadingController,\n    private storage: Storage,\n    private alertController: AlertController,\n    private geolocation: Geolocation,\n    private router: Router\n  ) {}\n\n  ionViewWillEnter() {\n    this.dateEvent = new Date().toISOString();\n    this.dateMin = this.dateEvent.split('T')[0];\n  }\n\n  ionViewDidEnter() {\n    this.createFormConsultEvent();\n    this.getBranchsEvent();\n  }\n\n  ngOnInit() {}\n\n  /**\n   * Método para crear el formulario para consultar el evento\n   */\n\n  createFormConsultEvent() {\n    this.formConsultEvent = this.formBuilder.group({\n      dateEvent: [{ value: this.dateEvent, disabled: true }, Validators.required],\n      branchOffice: ['', Validators.required],\n      municipality: ['', Validators.required],\n      event: ['', Validators.required],\n      geo: [false, Validators.required],\n      geoText: [''],\n    });\n  }\n\n  /**\n   * Cargar las sucursales de los eventos acorde a la fecha del sistema\n   */\n  async getBranchsEvent(): Promise<void> {\n    await this.presentLoading();\n\n    setTimeout(() => {\n      this.eventService.getBranchOfficeEvent().subscribe(\n        response => {\n          this.branchOffices = response.Sucursales;\n          this.loading.dismiss();\n        },\n        err => {\n          this.loading.dismiss();\n        }\n      );\n    }, 1500);\n  }\n\n  /**\n   * Cuando seleccionan una sucursal y de esta manera cargan los municipios\n   */\n  async selectedBranchOffice(branchSelected: any): Promise<void> {\n    const branchOfficeId = branchSelected.detail.value;\n\n    if ([undefined, null, ''].indexOf(branchOfficeId) > -1) {\n      return;\n    }\n\n    await this.presentLoading();\n\n    setTimeout(() => {\n      this.eventService.getMunicipyBrachOffice(branchOfficeId).subscribe(\n        response => {\n          this.municipalities = [];\n          this.municipalities = response.Municipios;\n          this.loading.dismiss();\n        },\n        err => {\n          this.loading.dismiss();\n        }\n      );\n    }, 1500);\n  }\n\n  /**\n   * Cuando selecciona un municipio y de esta manera cargan los eventos que hay en el municipio.\n   */\n  async selectedMunicipy(municipySelected: any): Promise<void> {\n    const municipyId = municipySelected.detail.value;\n\n    if ([undefined, null, ''].indexOf(municipyId) > -1) {\n      return;\n    }\n\n    await this.presentLoading();\n\n    this.eventService.getEventForMunicipy(municipyId).subscribe(\n      response => {\n        this.eventsBranchOffice = [];\n        this.eventsBranchOffice = response.Eventos;\n        this.loading.dismiss();\n      },\n      err => {\n        this.loading.dismiss();\n      }\n    );\n  }\n\n  /**\n   * Cuando se se da click a seleccionar al evento para realizar el registro\n   * Este metodo primero saca la información del usuario que esta en el storage en una variable llamada sesion\n   * Se crea un objeto newRegisterResponsibleEvent el cual se enviara para guardar el registro de\n   * responsable del evento, si es exitoso lo redirecciona a selectRegisterEvent\n   */\n  async selectEvent() {\n    const documentUsuarioRegistrado = await this.storage.get('sesion');\n    setTimeout(() => {\n      sessionStorage.nombreEvento = this.formConsultEvent.value.event.Evento;\n      if (this.formConsultEvent.valid) {\n        const newRegisterResponsibleEvent: responsableEvento = {\n          FK_ID_Evento: this.formConsultEvent.controls.event.value.Fk_Id_Evento,\n          strDocumentoUsuario: documentUsuarioRegistrado.idPersona,\n          dtmFechaRegistro: this.formConsultEvent.controls.dateEvent.value,\n          strGeoposicionamiento: this.formConsultEvent.controls.geoText.value,\n        };\n        this.cacheService.saveRegisterEvent(newRegisterResponsibleEvent);\n        this.eventService.createEventResponsible(newRegisterResponsibleEvent).subscribe(\n          response => {\n            this.router.navigateByUrl('/u/consultEvent/selectRegisterEvent');\n          },\n          err => {\n            this.router.navigateByUrl('/u/consultEvent/selectRegisterEvent');\n          }\n        );\n        this.formConsultEvent.reset();\n      } else {\n        this.Alert();\n      }\n    }, 1000);\n  }\n\n  /**\n   * Al seleccionar el posicionamiento de geolocalización\n   */\n  async changeGeo(event): Promise<void> {\n    if (event.detail.checked) {\n      await this.presentLoading();\n\n      this.geolocation\n        .getCurrentPosition()\n        .then(response => {\n          const coords = response.coords.latitude + ',' + response.coords.longitude;\n          this.formConsultEvent.controls.geoText.setValue(coords);\n          this.loading.dismiss();\n        })\n        .catch(error => {\n          this.loading.dismiss();\n        });\n    } else {\n      this.formConsultEvent.controls.geoText.setValue('');\n    }\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingCtlr.create({\n      mode: 'ios',\n      message: 'Cargando',\n    });\n    return this.loading.present();\n  }\n\n  async Alert() {\n    const alert = await this.alertController.create({\n      header: 'Atención',\n      mode: 'ios',\n      message: 'Todos los campos son obligatorios.',\n      buttons: ['ACEPTAR'],\n    });\n\n    await alert.present();\n  }\n}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Consultar Evento</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"formConsultEvent\" *ngIf=\"formConsultEvent\">\n    <ion-list>\n      <ion-item lines=\"none\" class=\"item\" mode=\"ios\">\n        <ion-icon name=\"calendar\" color=\"primary\" slot=\"start\"></ion-icon>\n        <ion-label position=\"stacked\">Fecha evento</ion-label>\n      </ion-item>\n      <ion-datetime\n        mode=\"ios\"\n        [value]=\"dateEvent\"\n        display-format=\"DD MMM YYYY\"\n        monthShortNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\"\n        [min]=\"dateMin\"\n        [pickerOptions]=\"customPickerOption\"\n        class=\"bg-light mt-3 rounded pl-1 pr-1 ion-padding\"\n        formControlName=\"dateEvent\"\n        placeholder=\"DD MM AAAA\"\n      >\n      </ion-datetime>\n\n      <!-- datapiker with angular material -->\n      <!-- <mat-form-field  color=\"primary\" class=\"bg-light mt-3 rounded pl-1 pr-1 ion-padding\">\n        <mat-label>Fecha evento</mat-label>\n        <input readonly \n               matInput \n               formControlName=\"dateEvent\" \n               [min]=\"dateEvent\"  \n               [matDatepicker]=\"picker\">\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker (selectedChanged)=\"DateChange($event)\"></mat-datepicker>\n      </mat-form-field> -->\n\n      <ion-item lines=\"none\" class=\"item\" mode=\"ios\">\n        <ion-icon name=\"business\" color=\"primary\" slot=\"start\"></ion-icon>\n        <ion-label position=\"stacked\">Sucursal</ion-label>\n      </ion-item>\n      <ion-select\n        formControlName=\"branchOffice\"\n        class=\"bg-light mt-3 rounded pl-1 pr-1\"\n        mode=\"ios\"\n        interface=\"action-sheet\"\n        cancelText=\"CANCELAR\"\n        (ionChange)=\"selectedBranchOffice($event)\"\n        placeholder=\"Sucursal\"\n      >\n        <ion-select-option *ngFor=\"let branchs of branchOffices\" [value]=\"branchs.FK_Id_Sucursal\"> {{branchs.Sucursal}} </ion-select-option>\n      </ion-select>\n\n      <ion-item lines=\"none\" class=\"item\" mode=\"ios\">\n        <ion-thumbnail class=\"ionthumbnail\" slot=\"start\">\n          <ion-img class=\"imgMunicipio\" src=\"../../../assets/icon/mapa.svg\"></ion-img>\n        </ion-thumbnail>\n        <ion-label position=\"stacked\">Municipio</ion-label>\n      </ion-item>\n\n      <ion-select\n        formControlName=\"municipality\"\n        class=\"bg-light mt-3 rounded pl-1 pr-1\"\n        mode=\"ios\"\n        interface=\"action-sheet\"\n        cancelText=\"CANCELAR\"\n        (ionChange)=\"selectedMunicipy($event)\"\n        placeholder=\"Municipio\"\n      >\n        <ion-select-option *ngFor=\"let municipality of municipalities\" [value]=\"municipality.FK_Id_Municipio\"\n          >{{municipality.Municipio}}</ion-select-option\n        >\n      </ion-select>\n\n      <ion-item lines=\"none\" class=\"item\" mode=\"ios\">\n        <ion-icon name=\"reader\" color=\"primary\" slot=\"start\"></ion-icon>\n        <ion-label position=\"stacked\">Evento</ion-label>\n      </ion-item>\n\n      <ion-select\n        formControlName=\"event\"\n        class=\"bg-light mt-3 rounded pl-1 pr-1\"\n        mode=\"ios\"\n        interface=\"action-sheet\"\n        cancelText=\"CANCELAR\"\n        placeholder=\"Evento\"\n      >\n        <ion-select-option *ngFor=\"let event of eventsBranchOffice\" [value]=\"event\"> {{event.Evento}} </ion-select-option>\n      </ion-select>\n\n      <ion-item lines=\"none\" style=\"height: 50px\" mode=\"ios\">\n        <ion-icon name=\"pin\" color=\"primary\" slot=\"start\"></ion-icon>\n        <ion-label> Geoposición </ion-label>\n        <ion-toggle color=\"primary\" formControlName=\"geo\" class=\"bg-light mt-3 rounded\" (ionChange)=\"changeGeo($event)\"> </ion-toggle>\n      </ion-item>\n\n      <ion-item lines=\"none\" mode=\"ios\">\n        <ion-input type=\"hidden\" formControlName=\"geoText\"></ion-input>\n      </ion-item>\n    </ion-list>\n  </form>\n\n  <!-- <pre>{{ formConsultEvent.value | json }}</pre> -->\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"3\"></ion-col>\n      <ion-col size=\"6\">\n        <ion-button (click)=\"selectEvent()\" mode=\"ios\" class=\"btn\" expand=\"block\"> Seleccionar </ion-button>\n      </ion-col>\n      <ion-col size=\"3\"></ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n"],"sourceRoot":"webpack:///"}