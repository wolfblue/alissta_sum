{"version":3,"sources":["./src/app/pages/educa/select-register-event/select-register-event-routing.module.ts","./src/app/pages/educa/select-register-event/select-register-event.module.ts","./src/app/pages/educa/select-register-event/select-register-event.page.ts","./src/app/pages/educa/select-register-event/select-register-event.page.html"],"names":[],"mappings":"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","file":"default~educa-select-register-event-select-register-event-module~select-register-event-select-regist~0dc7d568-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectRegisterEventPage } from './select-register-event.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectRegisterEventPage,\n  },\n  {\n    path: 'registerEventManual',\n    loadChildren: () => import('../manual-event-register/manual-event-register.module').then(m => m.ManualEventRegisterPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectRegisterEventPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectRegisterEventPageRoutingModule } from './select-register-event-routing.module';\n\nimport { SelectRegisterEventPage } from './select-register-event.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, SelectRegisterEventPageRoutingModule],\n  declarations: [SelectRegisterEventPage],\n})\nexport class SelectRegisterEventPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { RegistroAsistenteEvento } from '../../../intarfaces/interfaces';\nimport { CacheService } from '../../../services/cache/cache.service';\nimport { EventService } from '../../../services/event/event.service';\nimport { ScannerQrComponent } from 'src/app/components/scanner-qr/scanner-qr.component';\n\n@Component({\n  selector: 'app-select-register-event',\n  templateUrl: './select-register-event.page.html',\n  styleUrls: ['./select-register-event.page.scss'],\n})\n/**\n * Este componente es el encargado de seleccionar la opción del registro\n */\nexport class SelectRegisterEventPage implements OnInit {\n  swiperOpts = {\n    allowSlidePrev: false,\n    allowSlideNext: false,\n  };\n\n  nombreEvento: string;\n  hiddenForm: boolean = false;\n\n  constructor(\n    private cacheService: CacheService,\n    private alertController: AlertController,\n    private eventService: EventService,\n    private router: Router,\n    private modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.nombreEvento = sessionStorage.nombreEvento;\n  }\n\n  /**\n   * Cuando se selecciona QR, este abre la camara, valida que sea QR_CODE y manda la información del\n   * código QR para posteriormente enviar el registro del código\n   */\n\n  async codeQRRegister() {\n    this.hiddenForm = true;\n    const eventIdSelected = await this.cacheService.newRegisterEvent.FK_ID_Evento.toString();\n\n    const modal = await this.modalCtrl.create({\n      component: ScannerQrComponent,\n    });\n    modal.present();\n    const result = await modal.onWillDismiss();\n    this.hiddenForm = false;\n    const info = result.data.response;\n    if (!info) {\n      this.confirmationRegister('Fallido.', 'No se pudo realizar el registro del asistente al evento');\n      return;\n    }\n    const dataUsuarioQR = JSON.parse(info);\n    const fechaNacimiento = moment(dataUsuarioQR.fchnac || dataUsuarioQR.fchNac, 'DD/MM/YYYY');\n\n    const registroUsuarioAsistente: RegistroAsistenteEvento = {\n      strTipoIdentificacionEmpresa: dataUsuarioQR.tiEmpr,\n      strNumeroDocumentoEmpresa: dataUsuarioQR.numEmpr,\n      strRazonSocial: dataUsuarioQR.razonEmpr,\n      strTipoDocumentoEmpleado: dataUsuarioQR.tiAsistente,\n      strNumeroDocumentoEmpleado: dataUsuarioQR.numAsistente,\n      strNombreEmpleado: dataUsuarioQR.nomAsist,\n      FK_ID_Cargo: dataUsuarioQR.cargo,\n      FK_ID_Sexo: dataUsuarioQR.sexo,\n      dtmFechaNacimiento: fechaNacimiento.format('MM/DD/YYYY'),\n      strTelefono: dataUsuarioQR.tele,\n      strEmail: dataUsuarioQR.email,\n      FK_ID_Evento: eventIdSelected,\n    };\n    this.registerUserQR(registroUsuarioAsistente);\n  }\n\n  /**\n   * La funcionalidad de este método es simplemente redireccionar a registerEventManual, dicha pagina estará el formulario\n   * para su posterior consulta.\n   */\n  registerManual() {\n    this.router.navigateByUrl('/u/consultEvent/selectRegisterEvent/registerEventManual');\n  }\n\n  /**\n   * Método que permite enviar la petición al servicio para posteriormente realizar el registro.\n   */\n  registerUserQR(registroNuevoUsuarioAsistente: RegistroAsistenteEvento) {\n    this.eventService.registerResponsibleQR(registroNuevoUsuarioAsistente).subscribe(\n      response => {\n        this.confirmationRegister('Exitoso', 'El registro se realizó correctamente.');\n      },\n      err => {\n        this.confirmationRegister('Error.', 'Falló la inscripción del asistente al evento.');\n      }\n    );\n  }\n\n  /**\n   * Este es el método simplemente muestra la alerta para el registro.\n   */\n  async confirmationRegister(resultadoAlerta: string, mensaje: string) {\n    const alert = await this.alertController.create({\n      header: resultadoAlerta,\n      mode: 'ios',\n      message: mensaje,\n      buttons: ['ACEPTAR'],\n    });\n\n    await alert.present();\n  }\n}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Inscripción</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding backgroundContent\" [hidden]=\"hiddenForm\">\n  <ion-slides mode=\"ios\" [options]=\"swiperOpts\">\n    <ion-slide>\n      <ion-card>\n        <ion-card-header>\n          <ion-card-subtitle>Inscripción de invitados</ion-card-subtitle>\n          <ion-card-title *ngIf=\"nombreEvento\">{{nombreEvento}}</ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          <ion-button mode=\"ios\" class=\"btn\" color=\"primary\" (click)=\"codeQRRegister()\" expand=\"block\"> Código QR </ion-button>\n          <ion-button mode=\"ios\" color=\"secondary\" class=\"btn\" (click)=\"registerManual()\" expand=\"block\"> Manual </ion-button>\n        </ion-card-content>\n      </ion-card>\n    </ion-slide>\n  </ion-slides>\n</ion-content>\n"],"sourceRoot":"webpack:///"}