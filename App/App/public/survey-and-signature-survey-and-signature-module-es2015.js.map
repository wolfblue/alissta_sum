{"version":3,"sources":["./src/app/pages/survey-and-signature/signature-qr/signature-qr.component.ts","./src/app/pages/survey-and-signature/signature-qr/signature-qr.component.html","./src/app/pages/survey-and-signature/signature-without-qr/signature-without-qr.component.ts","./src/app/pages/survey-and-signature/signature-without-qr/signature-without-qr.component.html","./src/app/pages/survey-and-signature/survey-and-signature-routing.module.ts","./src/app/pages/survey-and-signature/survey-and-signature.module.ts","./src/app/pages/survey-and-signature/survey-and-signature.page.ts","./src/app/pages/survey-and-signature/survey-and-signature.page.html"],"names":[],"mappings":"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","file":"survey-and-signature-survey-and-signature-module-es2015.js","sourcesContent":["import { Component, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController, ToastController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { SignaturePad } from 'angular2-signaturepad';\nimport { AdvisoryVerificationComponent } from '../../../components/advisory-verification/advisory-verification.component';\nimport { CacheService } from '../../../services/cache/cache.service';\nimport { NetworkService } from '../../../services/network/network.service';\n\n@Component({\n  selector: 'app-signature-qr',\n  templateUrl: './signature-qr.component.html',\n  styleUrls: ['./signature-qr.component.scss'],\n})\nexport class SignatureQRComponent implements OnInit {\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\n\n  // tslint:disable-next-line: ban-types\n  public signaturePadOptions: Object = {\n    maxWidth: 1,\n    minWidth: 1,\n    canvasWidth: 300,\n    canvasHeight: 300,\n  };\n\n  disableBtnSendTask = false;\n\n  infoUserARL: any;\n  signatureEntered: any;\n\n  valueNetwork: any;\n\n  actasAsesoria = [];\n\n  @Output() infoEnteredSignatureQR = new EventEmitter();\n\n  constructor(\n    private storage: Storage,\n    private cacheService: CacheService,\n    private router: Router,\n    private net: NetworkService,\n    private toastController: ToastController,\n    private modalCtrl: ModalController,\n    private alertController: AlertController\n  ) {}\n\n  ngOnInit() {\n    this.getInfoUser();\n  }\n\n  async getInfoUser() {\n    this.infoUserARL = await this.storage.get('sesion');\n  }\n\n  drawComplete() {\n    // will be notified of szimek/signature_pad's onEnd event\n    const firma = this.signaturePad.toDataURL().split(',');\n    this.signatureEntered = firma[0].concat(',').concat(' ').concat(firma[1]);\n    if (this.signatureEntered) {\n      this.disableBtnSendTask = true;\n    } else {\n      this.disableBtnSendTask = false;\n    }\n  }\n\n  drawStart() {\n    // will be notified of szimek/signature_pad's onBegin event\n    console.log('begin drawing');\n  }\n\n  clear() {\n    this.signaturePad.clear();\n    this.disableBtnSendTask = false;\n  }\n\n  sendInfoSignatureQR() {\n    const infoSignatureQR = {\n      nombreResponsableARL: this.infoUserARL.nombres,\n      apellidosResponsableARL: this.infoUserARL.apellidos,\n      cargo: this.infoUserARL.cargo,\n      licenciaSST: this.infoUserARL.idLicenciaSst,\n      numeroDocumentoEmpresa: this.infoUserARL.idProveedor,\n      nombreProveedor: this.infoUserARL.nombreProveedor,\n      documentoUsuarioARL: this.infoUserARL.idPersona,\n      signatureEntered: this.signatureEntered,\n    };\n    this.infoEnteredSignatureQR.emit(infoSignatureQR);\n  }\n\n  async verification() {\n    // this.router.navigateByUrl('/u/execLog/pending-visits/visit-id/company-info/comments/survey-signature/advisoryVerification');\n    const infoActa = this.cacheService.getAllInfoToAdvisory();\n    const modal = await this.modalCtrl.create({\n      component: AdvisoryVerificationComponent,\n      componentProps: {\n        info: infoActa,\n      },\n    });\n\n    modal.present();\n  }\n}\n","<div>\n  <div>\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"1\"></ion-col>\n        <ion-col size=\"10\">\n          <ion-button color=\"tertiary\" (click)=\"verification()\" expand=\"block\"> Ver Acta </ion-button>\n        </ion-col>\n        <ion-col size=\"1\"></ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  <div>\n    <h3>Responsable de ARL</h3>\n    <p *ngIf=\"infoUserARL\"><strong>Responsable ARL: </strong> {{ infoUserARL.nombres }} {{ infoUserARL.apellidos }}</p>\n  </div>\n\n  <div>\n    <h3>Razón social del proveedor</h3>\n    <p *ngIf=\"infoUserARL\"><strong>Nombre proveedor: </strong> {{ infoUserARL.nombreProveedor }}</p>\n    <p *ngIf=\"infoUserARL\"><strong>Documento proveedor: </strong> {{ infoUserARL.idProveedor }}</p>\n  </div>\n\n  <div class=\"ion-text-center\">\n    <h4>Firma responsable de ARL</h4>\n  </div>\n  <div style=\"border: 1px solid black; border-radius: 10px\" class=\"firmaContent\">\n    <signature-pad [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"> </signature-pad>\n    <div class=\"ion-text-center\">\n      <p class=\"firma\" *ngIf=\"infoUserARL\">{{ infoUserARL.nombres }} {{ infoUserARL.apellidos }}</p>\n    </div>\n  </div>\n  <ion-button (click)=\"clear()\" expand=\"block\" fill=\"clear\" shape=\"round\"> Borrar </ion-button>\n\n  <div class=\"ion-text-justify\">\n    <p>\n      Al enviar, está autorizando el uso de la su firma ÚNICAMENTE para el registro de la ejecución de las actividades relacionadas en el\n      acta de asesoría en promoción y prevención de POSITIVA COMPAÑÍA DE SEGUROS S.A. La Política de tratamiento de la información la puede\n      consultar en https://www.positiva.gov.co Una vez sea enviado el formulario, recibirá correo electrónico con los soportes de ejecución.\n    </p>\n  </div>\n\n  <div class=\"ion-text-center\" style=\"margin-bottom: 30px\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"3\"></ion-col>\n        <ion-col size=\"6\">\n          <img *ngIf=\"disableBtnSendTask\" (click)=\"sendInfoSignatureQR()\" src=\"../../../assets/icon/boton_enviar.png\" alt=\"enviar\" />\n        </ion-col>\n        <ion-col size=\"3\"></ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { SignaturePad } from 'angular2-signaturepad';\n\n@Component({\n  selector: 'app-signature-without-qr',\n  templateUrl: './signature-without-qr.component.html',\n  styleUrls: ['./signature-without-qr.component.scss'],\n})\nexport class SignatureWithoutQRComponent implements OnInit {\n  pollSelectedExce = false;\n  pollSelectedBue = false;\n  pollSelectedReg = false;\n  pollSelectedDef = false;\n\n  answerPoll: {};\n\n  signatureEntered: string;\n\n  signatureEnteredARL: string;\n\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\n\n  // tslint:disable-next-line: ban-types\n  public signaturePadOptions: Object = {\n    maxWidth: 1,\n    minWidth: 1,\n    canvasWidth: 300,\n    canvasHeight: 300,\n  };\n\n  @Input() namePersonSignature: any;\n  @Input() verificationCodeInput: number;\n  showSignature = false;\n\n  @Output() infoSignatureWithoutQR = new EventEmitter();\n\n  infoUserARL: any;\n\n  enableBtnGuardar = false;\n\n  constructor(\n    private alertController: AlertController,\n    private storage: Storage\n  ) {}\n\n  ionViewDidEnter() {}\n\n  ngOnInit() {\n    this.getInfoUser();\n  }\n\n  async getInfoUser() {\n    this.infoUserARL = await this.storage.get('sesion');\n  }\n\n  radioSelected(selectedPoll) {\n    switch (selectedPoll) {\n      case 'Excelente':\n        this.pollSelectedExce = true;\n        this.pollSelectedReg = false;\n        this.pollSelectedBue = false;\n        this.pollSelectedDef = false;\n        this.showSignature = true;\n        this.answerPoll = 'Excelente';\n        break;\n      case 'Bueno':\n        this.pollSelectedBue = true;\n        this.pollSelectedExce = false;\n        this.pollSelectedReg = false;\n        this.pollSelectedDef = false;\n        this.showSignature = true;\n        this.answerPoll = 'Bueno';\n        break;\n      case 'Regular':\n        this.pollSelectedReg = true;\n        this.pollSelectedExce = false;\n        this.pollSelectedBue = false;\n        this.pollSelectedDef = false;\n        this.showSignature = true;\n        this.answerPoll = 'Regular';\n        break;\n      case 'Deficiente':\n        this.pollSelectedDef = true;\n        this.pollSelectedExce = false;\n        this.pollSelectedBue = false;\n        this.pollSelectedReg = false;\n        this.showSignature = true;\n        this.answerPoll = 'Deficiente';\n        break;\n      default:\n        break;\n    }\n  }\n\n  drawComplete() {\n    const firma = this.signaturePad.toDataURL().split(',');\n    this.signatureEntered = firma[0].concat(',').concat(' ').concat(firma[1]);\n    if (this.signatureEntered) {\n      this.enableBtnGuardar = true;\n    } else {\n      this.enableBtnGuardar = false;\n    }\n  }\n\n  drawStart() {\n    // will be notified of szimek/signature_pad's onBegin event\n    console.log('begin drawing');\n  }\n\n  clear() {\n    this.signaturePad.clear();\n    this.enableBtnGuardar = false;\n  }\n\n  saveSignatureWithoutQR() {\n    const infoWithoutQR = {\n      answerPoll: this.answerPoll,\n      signatureEntered: this.signatureEntered,\n    };\n    this.infoSignatureWithoutQR.emit(infoWithoutQR);\n  }\n}\n","<div *ngIf=\"verificationCodeInput\">\n  <div class=\"ion-text-center\">\n    <h3>Encuesta</h3>\n  </div>\n  <div class=\"ion-text-justify\">\n    <p>De acuerdo a su percepción del servicio recibido por POSITIVA COMPAÑIA DE SEGUROS S.A, agradecemos su calificación.</p>\n  </div>\n  <div>\n    <!-- <ion-radio-group (ionChange)=\"radioSelected($event)\"  [(ngModel)]=\"something\"> -->\n    <ion-radio-group>\n      <ion-row>\n        <ion-col>\n          <ion-item lines=\"none\" (click)=\"radioSelected('Excelente')\">\n            <ion-label class=\"imgSinSeleccionar\">Excelente</ion-label>\n            <!-- <ion-radio mode=\"md\" item-left value=\"Excelente\"></ion-radio> -->\n            <ion-avatar>\n              <!-- <img class=\"imgSinSeleccionar\" src=\"../../../assets/icon/img1.png\" alt=\"imgExcelente\"> -->\n              <img\n                [ngClass]=\"pollSelectedExce ? 'imgSeleccionadaExcBue' : 'imgSinSeleccionar'\"\n                src=\"../../../assets/icon/img1.png\"\n                alt=\"imgExcelente\"\n              />\n            </ion-avatar>\n          </ion-item>\n        </ion-col>\n\n        <ion-col>\n          <ion-item lines=\"none\" (click)=\"radioSelected('Bueno')\">\n            <ion-label class=\"imgSinSeleccionar\">Bueno</ion-label>\n            <!-- <ion-radio mode=\"md\" item-left value=\"Bueno\"></ion-radio> -->\n            <ion-avatar>\n              <!-- <img class=\"imgSinSeleccionar\" src=\"../../../assets/icon/img2.png\" alt=\"imgBueno\"> -->\n              <img\n                [ngClass]=\"pollSelectedBue ? 'imgSeleccionadaExcBue' : 'imgSinSeleccionar'\"\n                src=\"../../../assets/icon/img2.png\"\n                alt=\"imgBueno\"\n              />\n            </ion-avatar>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <ion-item lines=\"none\" (click)=\"radioSelected('Regular')\">\n            <ion-label class=\"imgSinSeleccionar\">Regular</ion-label>\n            <!-- <ion-radio mode=\"md\" item-left value=\"Regular\"></ion-radio> -->\n            <ion-avatar>\n              <!-- <img class=\"imgSinSeleccionar\" src=\"../../../assets/icon/img3.png\" alt=\"imgRegular\"> -->\n              <img\n                [ngClass]=\"pollSelectedReg ? 'imgSeleccionadaRegDef' : 'imgSinSeleccionar'\"\n                src=\"../../../assets/icon/img3.png\"\n                alt=\"imgRegular\"\n              />\n            </ion-avatar>\n          </ion-item>\n        </ion-col>\n\n        <ion-col>\n          <ion-item lines=\"none\" (click)=\"radioSelected('Deficiente')\">\n            <ion-label class=\"imgSinSeleccionar\">Deficiente</ion-label>\n            <!-- <ion-radio mode=\"md\" item-left value=\"Deficiente\"></ion-radio> -->\n            <ion-avatar>\n              <!-- <img class=\"imgSinSeleccionar\" src=\"../../../assets/icon/img4.png\" alt=\"imgDeficiente\"> -->\n              <img\n                [ngClass]=\"pollSelectedDef ? 'imgSeleccionadaRegDef' : 'imgSinSeleccionar'\"\n                src=\"../../../assets/icon/img4.png\"\n                alt=\"imgDeficiente\"\n              />\n            </ion-avatar>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n    </ion-radio-group>\n  </div>\n</div>\n\n<div style=\"border: 1px solid black; border-radius: 10px\" *ngIf=\"showSignature\" class=\"firmaContent\">\n  <signature-pad [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"> </signature-pad>\n  <div class=\"ion-text-center\">\n    <p class=\"firma\" *ngIf=\"namePersonSignature\">\n      {{ namePersonSignature.Nombre }}\n    </p>\n  </div>\n</div>\n<ion-button (click)=\"clear()\" expand=\"block\" *ngIf=\"showSignature\" fill=\"clear\" shape=\"round\"> Borrar </ion-button>\n\n<div class=\"ion-text-justify\" *ngIf=\"showSignature\">\n  <p>\n    Mi calificación del servicio fue: <strong>{{ answerPoll }}</strong>\n  </p>\n  <p>\n    Al guardar, está autorizando el uso de su firma ÚNICAMENTE para el registro de la ejecución de las actividades relacionadas en el acta\n    de asesoría en promoción y prevención de POSITIVA COMPAÑÍA DE SEGUROS S.A. La política de tratamiento de la Política de tratamiento de\n    la información la puede consultar en https://www.positiva.gov.co Una vez las actividades sean validadas por POSITIVA COMPAÑÍA DE SEGUROS\n    S.A. se enviarán los soportes en PDF a través del correo electrónico registrado en las actividades.\n  </p>\n</div>\n\n<div class=\"ion-text-center\" style=\"margin-bottom: 30px\">\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"3\"></ion-col>\n      <ion-col size=\"6\">\n        <ion-button *ngIf=\"enableBtnGuardar\" (click)=\"saveSignatureWithoutQR()\" expand=\"block\" color=\"primary\" shape=\"round\">\n          Guardar\n        </ion-button>\n      </ion-col>\n      <ion-col size=\"3\"></ion-col>\n    </ion-row>\n  </ion-grid>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SurveyAndSignaturePage } from './survey-and-signature.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SurveyAndSignaturePage,\n  },\n  {\n    path: 'responsibleSignatureARL',\n    loadChildren: () =>\n      import('../responsible-signature-arl/responsible-signature-arl.module').then(m => m.ResponsibleSignatureARLPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SurveyAndSignaturePageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { SignaturePadModule } from 'angular2-signaturepad';\nimport { ComponentsModule } from './../../components/components.module';\nimport { SignatureQRComponent } from './signature-qr/signature-qr.component';\nimport { SignatureWithoutQRComponent } from './signature-without-qr/signature-without-qr.component';\nimport { SurveyAndSignaturePageRoutingModule } from './survey-and-signature-routing.module';\nimport { SurveyAndSignaturePage } from './survey-and-signature.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, SignaturePadModule, SurveyAndSignaturePageRoutingModule, ComponentsModule],\n  declarations: [SurveyAndSignaturePage, SignatureQRComponent, SignatureWithoutQRComponent],\n})\nexport class SurveyAndSignaturePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Directory, Filesystem } from '@capacitor/filesystem';\nimport { AlertController, LoadingController, ModalController, Platform, ToastController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { AdvisoryVerificationComponent } from '../../components/advisory-verification/advisory-verification.component';\nimport { ActivityListCompanyService } from '../../services/activities/activityListCompany/activity-list-company.service';\nimport { AdvisoryTopicService } from '../../services/activities/advisoryTopic/advisory-topic.service';\nimport { PhotoServiceService } from '../../services/attach/photo-service.service';\nimport { CacheService } from '../../services/cache/cache.service';\nimport { ConnectionStatusEnum, NetworkService } from '../../services/network/network.service';\nimport { CorreoNotificacionActaApp } from 'src/app/intarfaces/interfaces';\n\n@Component({\n  selector: 'app-survey-and-signature',\n  templateUrl: './survey-and-signature.page.html',\n  styleUrls: ['./survey-and-signature.page.scss'],\n})\nexport class SurveyAndSignaturePage implements OnInit {\n  data: any[] = [];\n  selectedVal: any;\n  showSignature = false;\n  verificationCode: number;\n\n  responsibleList: any[] = [];\n\n  textCheckFirma: any = 'NO';\n  disabledFirma = false;\n\n  infoSurveyQR: any;\n\n  disabledBtnSignature = false;\n\n  valueNetwork: any;\n\n  actasAsesoria = [];\n\n  infoUserARL: any;\n\n  actaAsesoriaGestionada: any;\n\n  cargaArchivos: any;\n\n  loading: any;\n\n  filesBase64: any[] = [];\n\n  filesConcat: any = '';\n\n  constructor(\n    private platform: Platform,\n    private cacheService: CacheService,\n    private router: Router,\n    private storage: Storage,\n    private net: NetworkService,\n    private photoService: PhotoServiceService,\n    private loadingCtlr: LoadingController,\n    private advisoryTopicService: AdvisoryTopicService,\n    private activityListCompany: ActivityListCompanyService,\n    private toastController: ToastController,\n    private modalCtrl: ModalController,\n    private alertController: AlertController\n  ) {}\n\n  async ionViewWillEnter() {\n    const leerArchivos = await this.readFile();\n  }\n\n  ngOnInit() {\n    this.responsibleList = JSON.parse(sessionStorage.companySelected).listaReposables;\n    console.log('responsables', this.responsibleList);\n    this.data = this.responsibleList;\n    this.getInfoUser();\n  }\n\n  async getInfoUser() {\n    this.infoUserARL = await this.storage.get('sesion');\n    console.log('this.infoUserARL', this.infoUserARL);\n  }\n\n  async confirmVerificationCode() {\n    let data2: any;\n    let verification: any;\n    const handlerVerification = data => {\n      data2 = data;\n    };\n\n    const handlerVerificationCode = () => {\n      verification = true;\n    };\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      backdropDismiss: false,\n      mode: 'ios',\n      // tslint:disable-next-line: max-line-length\n      header: `Ingrese el código de verificación, si seleccionas la opción reenviar código, se enviará al siguiente correo: ${this.selectedVal.correo}`,\n      inputs: [\n        {\n          name: 'verificationCodeInput',\n          type: 'tel',\n          placeholder: 'Código de verificación',\n        },\n      ],\n      buttons: [\n        {\n          text: 'Reenviar código',\n          handler: handlerVerificationCode,\n        },\n        {\n          text: 'Aceptar',\n          handler: handlerVerification,\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel');\n          },\n        },\n      ],\n    });\n\n    alert.onDidDismiss().then(async () => {\n      if (data2) {\n        if (this.selectedVal) {\n          this.disabledFirma = true;\n          if (this.selectedVal.codigoVerificacion === data2.verificationCodeInput) {\n            this.verificationCode = data2.verificationCodeInput;\n            this.disabledBtnSignature = true;\n          } else {\n            this.notification('Atención', 'El código ingresado no es valido, por favor intente nuevamente');\n            this.disabledFirma = false;\n          }\n        } else {\n          this.notification('Alerta', 'Debes seleccionar a un responsable de la empresa.');\n        }\n      } else {\n        if (verification) {\n          if (this.selectedVal) {\n            const checkNetwork = this.validateNetwork();\n            if (checkNetwork) {\n              const idEmpresa = JSON.parse(sessionStorage.companySelected).id;\n              const idResponsable = this.selectedVal.id;\n              this.presentLoading('Reenviando código de verificación ...');\n              const siEnvioCorreo = await this.activityListCompany.recordarCodigoVerificacion(idResponsable, idEmpresa).toPromise();\n              if (siEnvioCorreo) {\n                this.notification('Exitoso', `Se reenvio el código de verificación al correo ${this.selectedVal.correo}`);\n                this.loading.dismiss();\n              } else {\n                this.notification('Error', `No se pudo envíar el código de verificación al correo: ${this.selectedVal.correo}`);\n                this.loading.dismiss();\n              }\n            } else {\n              this.notification('Alerta', 'No tienes conexión a internet para realizar esta funcionalidad');\n            }\n          } else {\n            this.notification('Alerta', 'Debes seleccionar a un responsable de la empresa.');\n          }\n        }\n      }\n    });\n\n    await alert.present();\n  }\n\n  OnChange(event) {\n    this.selectedVal = event.detail.value;\n    // this.confirmVerificationCode();\n  }\n\n  getInfoSignatureQR(infoQR) {\n    const fechaCreaciónActa = new Date();\n\n    if (this.textCheckFirma === 'NO') {\n      this.textCheckFirma = false;\n      const answerPoll = infoQR.answerPoll.charAt(0);\n      this.infoSurveyQR = {\n        nombreResponsable: this.selectedVal.Nombre,\n        responsableId: this.selectedVal.id,\n        tipoDocumentoResponsable: this.selectedVal.tipoDocumentoDescripcion,\n        numeroDocumentoResponsable: this.selectedVal.numeroDocumento,\n        cargo: this.selectedVal.cargo,\n        firmaQR: this.textCheckFirma,\n        answerPool: answerPoll,\n        signature: infoQR.signatureEntered,\n        dateCreatedSurvey: fechaCreaciónActa,\n      };\n      this.cacheService.saveSurveyQR(this.infoSurveyQR);\n      this.router.navigateByUrl('/u/execLog/pending-visits/visit-id/company-info/comments/survey-signature/responsibleSignatureARL');\n    } else {\n      this.textCheckFirma = true;\n      this.infoSurveyQR = {\n        nombreResponsable: this.selectedVal.Nombre,\n        responsableId: this.selectedVal.id,\n        tipoDocumentoResponsable: this.selectedVal.tipoDocumentoDescripcion,\n        numeroDocumentoResponsable: this.selectedVal.numeroDocumento,\n        cargo: this.selectedVal.cargo,\n        firmaQR: this.textCheckFirma,\n\n        nombreResponsableARL: infoQR.nombreResponsableARL,\n        apellidoResponsableARL: infoQR.apellidosResponsableARL,\n        documentoResponsableARL: infoQR.documentoUsuarioARL,\n        nombreProveedor: infoQR.nombreProveedor,\n        cargoARL: infoQR.cargo,\n        licenciaSSTARL: infoQR.licenciaSST,\n        signature: infoQR.signatureEntered,\n        dateCreatedSurvey: fechaCreaciónActa,\n      };\n      this.cacheService.saveSurveyQR(this.infoSurveyQR);\n      this.sendTask();\n    }\n  }\n\n  changeOptSignature(event) {\n    if (event.detail.checked === true) {\n      this.showSignature = true;\n      this.textCheckFirma = 'SI';\n    } else {\n      this.showSignature = false;\n      this.textCheckFirma = 'NO';\n    }\n  }\n\n  async verification() {\n    // this.router.navigateByUrl('/u/execLog/pending-visits/visit-id/company-info/comments/survey-signature/advisoryVerification');\n    const infoActa = this.cacheService.getAllInfoToAdvisory();\n    const modal = await this.modalCtrl.create({\n      component: AdvisoryVerificationComponent,\n      componentProps: {\n        info: infoActa,\n      },\n    });\n\n    modal.present();\n  }\n\n  async sendTask() {\n    const checkNetwork = this.validateNetwork();\n    const idProveedor = this.infoUserARL.idProveedor;\n    this.actaAsesoriaGestionada = this.cacheService.createActaAsesoria(idProveedor);\n    const files = this.getFiles();\n\n    if (checkNetwork) {\n      await this.presentLoading('Creando acta de asesoría ...');\n      let creacionActa = await this.advisoryTopicService.saveActaAsesoria(this.actaAsesoriaGestionada).toPromise();\n      creacionActa = creacionActa.split(';');\n\n      if (creacionActa[0] === 'true' && creacionActa[1] !== '-1') {\n        for (const f of files) {\n          const body = { ...f, UidActaAsesoria: +creacionActa[1] };\n          await this.advisoryTopicService.uploadFileActaAsesoria(body).toPromise();\n        }\n\n        if (this.actaAsesoriaGestionada && this.actaAsesoriaGestionada.TTA_lista && this.actaAsesoriaGestionada.TTA_lista.length > 0) {\n          for (const tta of this.actaAsesoriaGestionada.TTA_lista) {\n            const idActividadMigradaPorUsuario = tta.id;\n\n            // envio correo notificacion acta asesoria \n            const notifCorreoActa: CorreoNotificacionActaApp = { Fk_ID_ActividadMigradaPorUsuario: idActividadMigradaPorUsuario };\n            await this.advisoryTopicService.enviarCorreoNotificacionActaApp(notifCorreoActa).toPromise();\n          }\n        }\n\n        this.photoService.photos = [];\n        const listaActividades = await this.storage.get('listaActividades');\n\n        for (let i = 0; i < listaActividades.length; i++) {\n          const actividadesMigradas = listaActividades[i].listaActividadesMigradas;\n          const ids = [];\n\n          actividadesMigradas.forEach(element => {\n            const idActividad = element.id;\n            const TTA_LISTA = this.actaAsesoriaGestionada.TTA_lista;\n            const index = TTA_LISTA.findIndex(x => x.id === idActividad);\n\n            if (index > -1) {\n              ids.push(idActividad);\n            }\n          });\n\n          listaActividades[i].listaActividadesMigradas = actividadesMigradas.filter(a => !ids.find(ii => ii === a.id));\n        }\n\n        this.storage.set('listaActividades', listaActividades);\n        this.registerTime(this.actaAsesoriaGestionada.AE_HorasTotales);\n        this.notification('Atención', 'Se ha creado el acta de asesoría');\n        this.router.navigateByUrl('/u/execLog');\n      } else {\n        this.notification('Error', 'No se pudo crear el acta de asesoría');\n      }\n      this.loading.dismiss();\n    } else {\n      const activitiesChange = [];\n      const getInfoActaAsesoria = this.cacheService.getAllInfoToAdvisory();\n      const actSelec = JSON.parse(sessionStorage.companySelected);\n\n      for (let i = 0; i < actSelec.listaActividadesMigradas.length; i++) {\n        const codeActividadesMigradas = actSelec.listaActividadesMigradas[i].idActividad;\n        const encontro = getInfoActaAsesoria.activities.find(element => element.idActividad === codeActividadesMigradas);\n\n        if (encontro) {\n          encontro.estadoInterno = 'Por enviar';\n          activitiesChange.push(encontro);\n        } else {\n          activitiesChange.push(actSelec.listaActividadesMigradas[i]);\n        }\n      }\n\n      actSelec.listaActividadesMigradas = activitiesChange;\n      const cambioCompanySelected = JSON.stringify(actSelec);\n      sessionStorage.setItem('companySelected', cambioCompanySelected);\n      const saveActaAsesoria = this.cacheService.saveActasAsesoria(files);\n\n      if (saveActaAsesoria) {\n        this.registerTime(this.actaAsesoriaGestionada.AE_HorasTotales);\n\n        this.notification(\n          'Atención',\n          'El móvil no tiene acceso a datos, por lo cual el acta de asesoría se guardó con estado pendiente por enviar.'\n        );\n\n        this.router.navigateByUrl('/u/execLog');\n      }\n    }\n  }\n\n  async readFile() {\n    const documentosAdjuntados = this.cacheService.saveAttach;\n\n    for (let i = 0; i < documentosAdjuntados.length; i++) {\n      const nombreArchivo = documentosAdjuntados[i].nombreArchivo;\n      const idActividad = documentosAdjuntados[i].idActividad;\n      const extensionBase = documentosAdjuntados[i].extensionBase64;\n\n      try {\n        await Filesystem.readFile({\n          path: `${idActividad}/${nombreArchivo}`,\n          directory: Directory.Data,\n        }).then(data => {\n          const base64 = extensionBase.concat(',').concat(data.data);\n          const objUploadFile = {\n            UidActividadMigradaXUSuario: idActividad,\n            TipoSoporte: documentosAdjuntados[i].tipoDocumento,\n            Base64: base64,\n          };\n          this.filesBase64.push(objUploadFile);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n\n  removeFile() {\n    const activities = this.cacheService.saveAttach;\n\n    for (let i = 0; i < activities.length; i++) {\n      const nombreArchivo = activities[i].nombreArchivo;\n      const idActividad = activities[i].idActividad;\n\n      try {\n        Filesystem.deleteFile({\n          path: `${idActividad}/${nombreArchivo}`,\n          directory: Directory.Data,\n        });\n      } catch {}\n    }\n  }\n\n  validateNetwork() {\n    const status = this.net.getNetworkStatus();\n\n    if (status === ConnectionStatusEnum.Offline) {\n      this.presentToast();\n    }\n\n    return status === ConnectionStatusEnum.Online;\n  }\n\n  async presentLoading(message) {\n    this.loading = await this.loadingCtlr.create({\n      mode: 'ios',\n      message,\n    });\n    return this.loading.present();\n  }\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'Verifique su conexión a internet.',\n      duration: 2000,\n    });\n    toast.present();\n  }\n\n  async notification(titulo, notificacion) {\n    const alert = await this.alertController.create({\n      header: titulo,\n      backdropDismiss: false,\n      mode: 'ios',\n      message: notificacion,\n      buttons: ['ACEPTAR'],\n    });\n\n    alert.onDidDismiss();\n\n    await alert.present();\n  }\n\n  /**\n   * Registra el tiempo de ejecución de esta actividad para el día actual.\n   *\n   * @param duration Texto que contiene la duración de la actividad.\n   */\n  private async registerTime(duration: string): Promise<void> {\n    const re = /(\\d+)(\\s+Horas\\s+)(\\d+)(\\s+Minutos)/gm;\n    const results = re.exec(duration);\n\n    if (!results) {\n      return;\n    }\n\n    const minutes = +results[1] * 60 + +results[3];\n    await this.cacheService.setRegisteredTime(minutes);\n  }\n\n  private getFiles(): any[] {\n    const files: any[] = [];\n    const imagenesAdjuntas = this.cacheService.obtenerAdjuntosFoto();\n\n    for (let i = 0; i < this.filesBase64.length; i++) {\n      const objAdjuntarDoc = this.filesBase64[i];\n      files.push(objAdjuntarDoc);\n    }\n\n    for (let j = 0; j < imagenesAdjuntas.length; j++) {\n      const element = imagenesAdjuntas[j];\n\n      element.forEach(async documento => {\n        const objAdjuntarImg = {\n          UidActividadMigradaXUSuario: documento.idActividad,\n          TipoSoporte: documento.idTipoArchivo,\n          base64: documento.foto.base64Imagen,\n        };\n\n        files.push(objAdjuntarImg);\n      });\n    }\n\n    this.removeFile();\n\n    return files;\n  }\n}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Encuesta y firma de la empresa</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <div class=\"ion-padding\">\n    <div class=\"ion-text-center\">\n      <h3>Responsable de la empresa</h3>\n    </div>\n    <ion-item lines=\"none\">\n      <ion-select\n        placeholder=\"Seleccionar\"\n        [(ngModel)]=\"selectedVal\"\n        interface=\"action-sheet\"\n        mode=\"ios\"\n        color=\"primary\"\n        class=\"full-width-select bg-light mt-3 rounded pl-1 pr-1\"\n      >\n        <ion-select-option *ngFor=\"let responsable of data\" class=\"custom-options\" [value]=\"responsable\">\n          {{responsable.Nombre}}\n        </ion-select-option>\n      </ion-select>\n    </ion-item>\n\n    <div class=\"ion-text-start\" *ngIf=\"selectedVal\">\n      <h3>Tipo de documento</h3>\n    </div>\n    <ion-input class=\"bg-light mt-3 rounded pl-1 pr-1\" readonly *ngIf=\"selectedVal\"> {{selectedVal.tipoDocumentoDescripcion}}</ion-input>\n\n    <div class=\"ion-text-start\" *ngIf=\"selectedVal\">\n      <h3>Documento de identificación</h3>\n    </div>\n    <ion-input class=\"bg-light mt-3 rounded pl-1 pr-1\" readonly *ngIf=\"selectedVal\">{{selectedVal.numeroDocumento}} </ion-input>\n\n    <div class=\"ion-text-start\" *ngIf=\"selectedVal\">\n      <h3>Correo Electrónico</h3>\n    </div>\n    <ion-input class=\"bg-light mt-3 rounded pl-1 pr-1\" readonly *ngIf=\"selectedVal\">{{selectedVal.correo}}</ion-input>\n\n    <div class=\"ion-text-start\" *ngIf=\"selectedVal\">\n      <h3>Cargo</h3>\n    </div>\n    <ion-input class=\"bg-light mt-3 rounded pl-1 pr-1\" readonly *ngIf=\"selectedVal\">{{selectedVal.cargo}}</ion-input>\n  </div>\n\n  <ng-container *ngIf=\"selectedVal\">\n    <div class=\"ion-padding\">\n      <ion-list style=\"background: none\">\n        <ion-item lines=\"none\">\n          <ion-label class=\"bold\">{{textCheckFirma}} se va a firmar con código QR</ion-label>\n          <ion-toggle [disabled]=\"disabledFirma\" (ionChange)=\"changeOptSignature($event)\"></ion-toggle>\n        </ion-item>\n      </ion-list>\n    </div>\n\n    <div class=\"ion-padding\" *ngIf=\"!showSignature\">\n      <div class=\"ion-text-center\">\n        <h4>Firma responsable de la empresa</h4>\n      </div>\n      <div>\n        <ion-grid>\n          <ion-row>\n            <ion-col size=\"1\"></ion-col>\n            <ion-col size=\"10\">\n              <ion-button color=\"tertiary\" (click)=\"verification()\" expand=\"block\"> Ver Acta </ion-button>\n            </ion-col>\n            <ion-col size=\"1\"></ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col size=\"1\"></ion-col>\n            <ion-col size=\"10\">\n              <ion-button expand=\"block\" [disabled]=\"disabledBtnSignature\" (click)=\"confirmVerificationCode()\"> Firma Acta </ion-button>\n            </ion-col>\n            <ion-col size=\"1\"></ion-col>\n          </ion-row>\n        </ion-grid>\n      </div>\n    </div>\n\n    <div class=\"ion-padding\">\n      <app-signature-qr (infoEnteredSignatureQR)=\"getInfoSignatureQR($event)\" *ngIf=\"showSignature\"></app-signature-qr>\n      <app-signature-without-qr\n        [verificationCodeInput]=\"verificationCode\"\n        [namePersonSignature]=\"selectedVal\"\n        (infoSignatureWithoutQR)=\"getInfoSignatureQR($event)\"\n        *ngIf=\"!showSignature\"\n      >\n      </app-signature-without-qr>\n    </div>\n  </ng-container>\n</ion-content>\n"],"sourceRoot":"webpack:///"}