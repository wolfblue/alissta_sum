{"version":3,"sources":["webpack:///src/app/pages/educa/select-register-event/select-register-event-routing.module.ts","webpack:///src/app/pages/educa/select-register-event/select-register-event.module.ts","webpack:///src/app/pages/educa/select-register-event/select-register-event.page.html","webpack:///src/app/pages/educa/select-register-event/select-register-event.page.ts"],"names":["routes","path","component","loadChildren","then","m","ManualEventRegisterPageModule","SelectRegisterEventPageRoutingModule","forChild","imports","exports","SelectRegisterEventPageModule","declarations","SelectRegisterEventPage","cacheService","alertController","eventService","router","modalCtrl","swiperOpts","allowSlidePrev","allowSlideNext","hiddenForm","nombreEvento","sessionStorage","newRegisterEvent","FK_ID_Evento","toString","eventIdSelected","create","modal","present","onWillDismiss","result","info","data","response","confirmationRegister","dataUsuarioQR","JSON","parse","fechaNacimiento","fchnac","fchNac","registroUsuarioAsistente","strTipoIdentificacionEmpresa","tiEmpr","strNumeroDocumentoEmpresa","numEmpr","strRazonSocial","razonEmpr","strTipoDocumentoEmpleado","tiAsistente","strNumeroDocumentoEmpleado","numAsistente","strNombreEmpleado","nomAsist","FK_ID_Cargo","cargo","FK_ID_Sexo","sexo","dtmFechaNacimiento","format","strTelefono","tele","strEmail","email","registerUserQR","navigateByUrl","registroNuevoUsuarioAsistente","registerResponsibleQR","subscribe","err","resultadoAlerta","mensaje","header","mode","message","buttons","alert","codeQRRegister","registerManual","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~educa-select-register-event-select-register-event-module~select-register-event-select-regist~0dc7d568-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectRegisterEventPage } from './select-register-event.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectRegisterEventPage,\n  },\n  {\n    path: 'registerEventManual',\n    loadChildren: () => import('../manual-event-register/manual-event-register.module').then(m => m.ManualEventRegisterPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectRegisterEventPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectRegisterEventPageRoutingModule } from './select-register-event-routing.module';\n\nimport { SelectRegisterEventPage } from './select-register-event.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, SelectRegisterEventPageRoutingModule],\n  declarations: [SelectRegisterEventPage],\n})\nexport class SelectRegisterEventPageModule {}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Inscripción</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding backgroundContent\" [hidden]=\"hiddenForm\">\n  <ion-slides mode=\"ios\" [options]=\"swiperOpts\">\n    <ion-slide>\n      <ion-card>\n        <ion-card-header>\n          <ion-card-subtitle>Inscripción de invitados</ion-card-subtitle>\n          <ion-card-title *ngIf=\"nombreEvento\">{{nombreEvento}}</ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          <ion-button mode=\"ios\" class=\"btn\" color=\"primary\" (click)=\"codeQRRegister()\" expand=\"block\"> Código QR </ion-button>\n          <ion-button mode=\"ios\" color=\"secondary\" class=\"btn\" (click)=\"registerManual()\" expand=\"block\"> Manual </ion-button>\n        </ion-card-content>\n      </ion-card>\n    </ion-slide>\n  </ion-slides>\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { RegistroAsistenteEvento } from '../../../intarfaces/interfaces';\nimport { CacheService } from '../../../services/cache/cache.service';\nimport { EventService } from '../../../services/event/event.service';\nimport { ScannerQrComponent } from 'src/app/components/scanner-qr/scanner-qr.component';\n\n@Component({\n  selector: 'app-select-register-event',\n  templateUrl: './select-register-event.page.html',\n  styleUrls: ['./select-register-event.page.scss'],\n})\n/**\n * Este componente es el encargado de seleccionar la opción del registro\n */\nexport class SelectRegisterEventPage implements OnInit {\n  swiperOpts = {\n    allowSlidePrev: false,\n    allowSlideNext: false,\n  };\n\n  nombreEvento: string;\n  hiddenForm: boolean = false;\n\n  constructor(\n    private cacheService: CacheService,\n    private alertController: AlertController,\n    private eventService: EventService,\n    private router: Router,\n    private modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.nombreEvento = sessionStorage.nombreEvento;\n  }\n\n  /**\n   * Cuando se selecciona QR, este abre la camara, valida que sea QR_CODE y manda la información del\n   * código QR para posteriormente enviar el registro del código\n   */\n\n  async codeQRRegister() {\n    this.hiddenForm = true;\n    const eventIdSelected = await this.cacheService.newRegisterEvent.FK_ID_Evento.toString();\n\n    const modal = await this.modalCtrl.create({\n      component: ScannerQrComponent,\n    });\n    modal.present();\n    const result = await modal.onWillDismiss();\n    this.hiddenForm = false;\n    const info = result.data.response;\n    if (!info) {\n      this.confirmationRegister('Fallido.', 'No se pudo realizar el registro del asistente al evento');\n      return;\n    }\n    const dataUsuarioQR = JSON.parse(info);\n    const fechaNacimiento = moment(dataUsuarioQR.fchnac || dataUsuarioQR.fchNac, 'DD/MM/YYYY');\n\n    const registroUsuarioAsistente: RegistroAsistenteEvento = {\n      strTipoIdentificacionEmpresa: dataUsuarioQR.tiEmpr,\n      strNumeroDocumentoEmpresa: dataUsuarioQR.numEmpr,\n      strRazonSocial: dataUsuarioQR.razonEmpr,\n      strTipoDocumentoEmpleado: dataUsuarioQR.tiAsistente,\n      strNumeroDocumentoEmpleado: dataUsuarioQR.numAsistente,\n      strNombreEmpleado: dataUsuarioQR.nomAsist,\n      FK_ID_Cargo: dataUsuarioQR.cargo,\n      FK_ID_Sexo: dataUsuarioQR.sexo,\n      dtmFechaNacimiento: fechaNacimiento.format('MM/DD/YYYY'),\n      strTelefono: dataUsuarioQR.tele,\n      strEmail: dataUsuarioQR.email,\n      FK_ID_Evento: eventIdSelected,\n    };\n    this.registerUserQR(registroUsuarioAsistente);\n  }\n\n  /**\n   * La funcionalidad de este método es simplemente redireccionar a registerEventManual, dicha pagina estará el formulario\n   * para su posterior consulta.\n   */\n  registerManual() {\n    this.router.navigateByUrl('/u/consultEvent/selectRegisterEvent/registerEventManual');\n  }\n\n  /**\n   * Método que permite enviar la petición al servicio para posteriormente realizar el registro.\n   */\n  registerUserQR(registroNuevoUsuarioAsistente: RegistroAsistenteEvento) {\n    this.eventService.registerResponsibleQR(registroNuevoUsuarioAsistente).subscribe(\n      response => {\n        this.confirmationRegister('Exitoso', 'El registro se realizó correctamente.');\n      },\n      err => {\n        this.confirmationRegister('Error.', 'Falló la inscripción del asistente al evento.');\n      }\n    );\n  }\n\n  /**\n   * Este es el método simplemente muestra la alerta para el registro.\n   */\n  async confirmationRegister(resultadoAlerta: string, mensaje: string) {\n    const alert = await this.alertController.create({\n      header: resultadoAlerta,\n      mode: 'ios',\n      message: mensaje,\n      buttons: ['ACEPTAR'],\n    });\n\n    await alert.present();\n  }\n}\n"]}