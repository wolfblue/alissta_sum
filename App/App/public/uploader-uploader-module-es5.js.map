{"version":3,"sources":["webpack:///node_modules/uuid/index.js","webpack:///node_modules/uuid/lib/bytesToUuid.js","webpack:///node_modules/uuid/lib/rng-browser.js","webpack:///node_modules/uuid/v1.js","webpack:///node_modules/uuid/v4.js","webpack:///src/app/pages/uploader/uploader-routing.module.ts","webpack:///src/app/pages/uploader/uploader.module.ts","webpack:///src/app/pages/uploader/uploader.page.html","webpack:///src/app/pages/uploader/uploader.page.ts"],"names":["v1","v4","uuid","module","exports","byteToHex","i","toString","substr","bytesToUuid","buf","offset","bth","join","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","whatwgRNG","rnds","Array","mathRNG","r","Math","random","rng","_nodeId","_clockseq","_lastMSecs","_lastNSecs","options","b","node","clockseq","undefined","seedBytes","msecs","Date","getTime","nsecs","dt","Error","tl","tmh","n","ii","routes","path","component","UploaderPageRoutingModule","forChild","imports","UploaderPageModule","declarations","providers","UploaderPage","file","alertController","formBuilder","router","storage","cacheService","photoService","ALERT_OPTIONS","header","message","fileAttach","filesAdjuntos","asistenteEventosPYP","evaluacionEventos","disableButtons","supportTypeTypes","fotosTomadas","listaDocumentos","cargarInformación","lineaAccion","actionLine","infoActivity","infoActivityAtachSelected","createFormSupportType","getListaArchivosSoporte","adjuntosPDF","obtenerAdjuntosPDF","actividadSeleccionada","obtenerInfoActividadAttachDocs","fotosAdjuntas","obtenerAdjuntosFoto","length","forEach","element","documento","id","idActividad","push","imagenes","formSupportType","group","type","get","event","nameSupport","detail","value","accionARealizar","addNewToGallery","foto","tag","document","getElementById","click","photoSelected","valorBuscar","idFoto","splice","removeFotoAdjunta","doctSelected","removePDFAdjunto","fileReader","FileReader","zoneOriginalInstance","objFile","target","files","notification","peso","size","newInstance","getFileReader","readAsDataURL","onload","urlFileBase64","result","extensionFile","split","realData","contentype","contentype1","contentype2","blob","b64toBlob","setTimeout","extension","fileAsistenciaEventos","fileEvaluacionEventos","archivo","inputFile","nativeElement","b64Data","contentType","byteCharacters","atob","byteArrays","sliceSize","slice","byteNumbers","charCodeAt","byteArray","Blob","extensionBase64","idTipoArchivo","UUID","Data","blobToBase64","directory","data","recursive","writeFile","objetoActividad","nombreArchivo","tipoDocumento","saveAttachDocs","console","log","documentosAdjuntos","concat","tipoArchivo","validarTipoArchivo","objGuardar","reset","objGuardarDocumento","createDirectoryForActivitieSelected","objSoportesPorActividad","cantidadDocumentosAdjuntos","infoActividadPorDocumento","infoFotosAdjuntas","infoPDFAdjuntos","navigateByUrl","tipo","titulo","notificacion","create","backdropDismiss","mode","buttons","alert","onDidDismiss","present","Promise","resolve","_","reader","onloadend","abrirExploradorArchivos","loadImageFromDevice","addPhotoToGallery","changeSupport","adjuntar","save","selector","templateUrl","styleUrls"],"mappings":"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","file":"uploader-uploader-module-es5.js","sourcesContent":["var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { UploaderPage } from './uploader.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploaderPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UploaderPageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IonicModule } from '@ionic/angular';\nimport { UploaderPageRoutingModule } from './uploader-routing.module';\nimport { UploaderPage } from './uploader.page';\nimport { File } from '@ionic-native/file/ngx';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule, UploaderPageRoutingModule],\n  declarations: [UploaderPage],\n  providers: [File],\n})\nexport class UploaderPageModule {}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Adjuntar Archivos</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <!-- <div class=\"ion-text-center\" style=\"width: 100%;\">\n    <h3>Documentos a adjuntar.</h3>\n  </div> -->\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\">\n        <ion-list>\n          <ion-item lines=\"none\" color=\"secondary\">\n            <!-- <img [src]=\"menuOpt.icon\"> -->\n            <div>\n              <ion-grid>\n                <ion-row>\n                  <ion-col size=\"12\" style=\"padding: 0px\">\n                    <ion-label style=\"font-size: 20px\">Documentos por adjuntar</ion-label>\n                  </ion-col>\n                </ion-row>\n                <ion-row>\n                  <ion-col size=\"12\" style=\"padding: 0px\">\n                    <p style=\"font-size: 13px; margin: 0px; font-weight: 300\">Muestra los soportes de la actividad</p>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </div>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-grid>\n    <ion-row *ngIf=\"listaDocumentos.length > 0\">\n      <ion-col size=\"12\">\n        <ion-list>\n          <ion-item *ngFor=\"let listDocumento of listaDocumentos; let i = index\" lines=\"none\">\n            <ion-thumbnail slot=\"start\">\n              <img *ngIf=\"listDocumento.foto\" [src]=\"listDocumento.foto.base64Imagen\" class=\"imgMenu\" alt=\"iconItem\" />\n            </ion-thumbnail>\n            <ion-grid>\n              <ion-row>\n                <ion-col size=\"12\">\n                  <ion-label style=\"font-weight: bolder\">{{listDocumento.tipoArchivo}}</ion-label>\n                </ion-col>\n              </ion-row>\n              <ion-row>\n                <ion-col size=\"12\">\n                  <ion-label style=\"font-size: 15px; font-weight: 300\" *ngIf=\"listDocumento.foto\">\n                    {{listDocumento.foto.idFoto}}.{{listDocumento.foto.format}}</ion-label\n                  >\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n            <ion-icon slot=\"end\" name=\"trash\" (click)=\"deletePhoto(listDocumento)\"></ion-icon>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n\n    <ion-row *ngIf=\"filesAdjuntos.length > 0\">\n      <ion-col size=\"12\">\n        <ion-list>\n          <ion-item *ngFor=\"let listDocumento of filesAdjuntos; let i = index\" lines=\"none\">\n            <ion-thumbnail slot=\"start\">\n              <img src=\"../../../assets/icon/pdf_icon.svg\" class=\"imgMenu\" alt=\"iconItem\" />\n            </ion-thumbnail>\n            <ion-grid>\n              <ion-row>\n                <ion-col size=\"12\">\n                  <ion-label style=\"font-weight: bolder\">{{listDocumento.tipoArchivo}}</ion-label>\n                </ion-col>\n              </ion-row>\n              <ion-row>\n                <ion-col size=\"12\">\n                  <ion-label style=\"font-size: 15px; font-weight: 300\">{{listDocumento.documento.file.name}}</ion-label>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n            <ion-icon slot=\"end\" name=\"trash\" (click)=\"deleteDocs(listDocumento)\"></ion-icon>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\">\n        <ion-list>\n          <ion-item lines=\"none\" color=\"secondary\">\n            <!-- <img [src]=\"menuOpt.icon\"> -->\n            <div>\n              <ion-grid style=\"padding: 0px\">\n                <ion-row>\n                  <ion-col size=\"12\" style=\"padding: 0px\">\n                    <ion-label style=\"font-size: 20px\">Archivos seleccionados</ion-label>\n                  </ion-col>\n                </ion-row>\n                <ion-row>\n                  <ion-col size=\"12\" style=\"padding: 0px\">\n                    <p style=\"font-size: 13px; margin: 0px; font-weight: 300\">Visualiza los archivos seleccionados del dispositivo</p>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </div>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-row>\n    <ion-grid>\n      <ion-row *ngIf=\"fotosTomadas\">\n        <ion-col size=\"12\" *ngFor=\"let photo of fotosTomadas; let i = index\">\n          <ion-item lines=\"none\">\n            <div class=\"ion-text-center\">\n              <img *ngIf=\"photo\" style=\"width: 30%; height: 30%\" [src]=\"photo.base64Imagen\" />\n            </div>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"12\" *ngFor=\"let file of fileAttach; let i = index\">\n          <ion-item lines=\"none\">\n            <div class=\"ion-text-center\">\n              <img *ngIf=\"file.file\" style=\"width: 30%; height: 30%; padding-left: 25px\" src=\"../../../assets/icon/pdf_icon.svg\" />\n            </div>\n          </ion-item>\n          <ion-item lines=\"none\">\n            <div class=\"ion-text-center\">\n              <p *ngIf=\"file.file\">{{file.file.name}}</p>\n            </div>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-row>\n  <ion-row>\n    <ion-toolbar>\n      <ion-grid>\n        <ion-row justify-content-around>\n          <ion-col size=\"6\">\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"abrirExploradorArchivos()\">\n              <input\n                #inputFile\n                type=\"file\"\n                style=\"display: none\"\n                (change)=\"loadImageFromDevice($event)\"\n                id=\"file-input\"\n                accept=\"application/pdf\"\n              />\n              <ion-icon slot=\"icon-only\" name=\"attach-outline\"></ion-icon>\n              PDF\n            </ion-button>\n          </ion-col>\n          <ion-col size=\"6\">\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"addPhotoToGallery()\">\n              <ion-icon slot=\"icon-only\" name=\"camera-outline\"></ion-icon>\n            </ion-button>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <form [formGroup]=\"formSupportType\">\n        <ion-row>\n          <div class=\"ion-text-center\" style=\"width: 100%\">\n            <h3>Seleccione el tipo de soporte</h3>\n          </div>\n          <ion-col>\n            <ion-select\n              [interfaceOptions]=\"ALERT_OPTIONS\"\n              interface=\"action-sheet\"\n              mode=\"ios\"\n              placeholder=\"Seleccione el tipo de soporte\"\n              color=\"primary\"\n              formControlName=\"type\"\n              (ionChange)=\"changeSupport($event)\"\n              class=\"full-width-select bg-light mt-3 rounded pl-1 pr-1\"\n              cancelText=\"Cancelar\"\n            >\n              <ion-select-option class=\"custom-options\" *ngFor=\"let supportType of supportTypeTypes\" [value]=\"supportType.valor\"\n                >{{ supportType.nombre }}</ion-select-option\n              >\n            </ion-select>\n          </ion-col>\n        </ion-row>\n      </form>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"12\">\n            <ion-button expand=\"block\" class=\"btnAdjuntar\" (click)=\"adjuntar()\" [disabled]=\"disableButtons\">Adjuntar </ion-button>\n          </ion-col>\n        </ion-row>\n\n        <ion-row>\n          <ion-col size=\"12\">\n            <ion-button expand=\"block\" (click)=\"save()\" color=\"primary\" [disabled]=\"disableButtons\">Guardar</ion-button>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-toolbar>\n  </ion-row>\n</ion-content>\n\n<!-- <ion-footer class=\"ion-no-border\">\n\n</ion-footer> -->\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { File } from '@ionic-native/file/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { v4 as uuidv4 } from 'uuid';\nimport { PhotoServiceService } from '../../services/attach/photo-service.service';\nimport { CacheService } from '../../services/cache/cache.service';\nimport { Directory, Filesystem } from '@capacitor/filesystem';\n\n/**\n * Componente para carga de soportes de visita.\n */\n@Component({\n  selector: 'app-uploader',\n  templateUrl: './uploader.page.html',\n  styleUrls: ['./uploader.page.scss'],\n})\nexport class UploaderPage implements OnInit {\n  /**\n   * Opciones para la ventana emergente para seleccionar el tipo de archivo.\n   */\n  readonly ALERT_OPTIONS = {\n    header: 'Seleccione el tipo de soporte',\n    message: 'Los soportes marcados con (*) son obligatorios',\n  };\n\n  formSupportType: FormGroup;\n\n  urlFile: any;\n\n  fileAttach: any[] = [];\n\n  filesAdjuntos: any[] = [];\n\n  private blob: Blob;\n\n  private promise: Promise<string>;\n\n  infoActivity: any;\n\n  lineaAccion: string;\n\n  asistenteEventosPYP = false;\n\n  evaluacionEventos = false;\n\n  disableButtons = true;\n\n  nameSupport: string;\n\n  supportTypeTypes: any[] = [];\n\n  fotosTomadas: any[] = [];\n\n  listaDocumentos: any[] = [];\n\n  accionARealizar: string;\n\n  archivo: any;\n\n  foto: any;\n\n  extensionFile: string;\n\n  @ViewChild('inputFile') inputFile: ElementRef;\n\n  constructor(\n    private file: File,\n    private alertController: AlertController,\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private storage: Storage,\n    private cacheService: CacheService,\n    public photoService: PhotoServiceService\n  ) {}\n\n  ionViewWillEnter() {\n    this.cargarInformación();\n    this.lineaAccion = this.cacheService.actionLine;\n  }\n\n  ngOnInit() {\n    this.infoActivity = this.cacheService.infoActivityAtachSelected;\n    this.createFormSupportType();\n    this.getListaArchivosSoporte();\n  }\n\n  cargarInformación() {\n    const adjuntosPDF = this.cacheService.obtenerAdjuntosPDF();\n    const actividadSeleccionada = this.cacheService.obtenerInfoActividadAttachDocs();\n    const fotosAdjuntas = this.cacheService.obtenerAdjuntosFoto();\n    if (adjuntosPDF.length > 0) {\n      this.filesAdjuntos = [];\n\n      adjuntosPDF.forEach(element => {\n        element.forEach(documento => {\n          if (actividadSeleccionada.id === documento.idActividad) {\n            this.filesAdjuntos.push(documento);\n          }\n        });\n      });\n    }\n    if (fotosAdjuntas.length > 0) {\n      this.listaDocumentos = [];\n      // this.listaDocumentos = fotosAdjuntas[0];\n      fotosAdjuntas.forEach(element => {\n        element.forEach(imagenes => {\n          if (actividadSeleccionada.id === imagenes.idActividad) {\n            this.listaDocumentos.push(imagenes);\n            this.fotosTomadas.push(imagenes);\n          }\n        });\n      });\n    }\n  }\n\n  createFormSupportType() {\n    this.formSupportType = this.formBuilder.group({\n      type: [''],\n    });\n  }\n\n  async getListaArchivosSoporte() {\n    this.supportTypeTypes = await this.storage.get('listArchivosSoporte');\n  }\n\n  changeSupport(event) {\n    this.nameSupport = event.detail.value;\n    if (this.lineaAccion === 'ED') {\n      if (event.detail.value === 'Asistencia a eventos de PyP') {\n        this.asistenteEventosPYP = true;\n      }\n      if (event.detail.value === 'Evaluación de eventos') {\n        this.evaluacionEventos = true;\n      }\n    }\n  }\n\n  async addPhotoToGallery() {\n    this.accionARealizar = 'foto';\n    this.disableButtons = true;\n    this.foto = await this.photoService.addNewToGallery();\n    this.fotosTomadas.push(this.foto);\n    this.disableButtons = false;\n  }\n\n  abrirExploradorArchivos() {\n    this.accionARealizar = 'documento';\n    const tag: any = document.getElementById('file-input');\n    if (tag.value) {\n      tag.value = '';\n    }\n    tag.click();\n  }\n\n  deletePhoto(photoSelected) {\n    // tslint:disable-next-line: prefer-for-of\n    for (let i = 0; i < this.fotosTomadas.length; i++) {\n      const element = this.fotosTomadas[i];\n      const valorBuscar = photoSelected.foto;\n      const idFoto = element.foto ? element.foto.idFoto : element.idFoto;\n\n      if (idFoto === valorBuscar.idFoto) {\n        this.fotosTomadas.splice(i, 1);\n        this.listaDocumentos.splice(i, 1);\n        this.cacheService.removeFotoAdjunta(valorBuscar.idFoto);\n      }\n    }\n  }\n\n  deleteDocs(doctSelected) {\n    const valorBuscar = doctSelected;\n    // tslint:disable-next-line: prefer-for-of\n    for (let i = 0; i < this.filesAdjuntos.length; i++) {\n      const element = this.filesAdjuntos[i];\n      if (element === valorBuscar) {\n        this.filesAdjuntos.splice(i, 1);\n        this.fileAttach.splice(i, 1);\n        this.cacheService.removePDFAdjunto(valorBuscar.documento.id);\n      }\n    }\n  }\n\n  getFileReader(): FileReader {\n    const fileReader = new FileReader();\n    const zoneOriginalInstance = (fileReader as any)['__zone_symbol__originalInstance'];\n    return zoneOriginalInstance || fileReader;\n  }\n\n  loadImageFromDevice(event) {\n    let objFile = {};\n\n    const file = event.target.files[0];\n\n    if (file.type !== 'application/pdf') {\n      this.notification('Alerta', 'Señor usuario, solo se permiten subir archivos PDF');\n      return;\n    }\n\n    const peso = file.size / 1048576;\n    if (peso < 1) {\n      this.disableButtons = true;\n      const newInstance = this.getFileReader();\n      newInstance.readAsDataURL(event.target.files[0]);\n      newInstance.onload = () => {\n        const urlFileBase64 = newInstance.result.toString();\n        this.extensionFile = urlFileBase64.split(',')[0];\n        const realData = urlFileBase64.split(',')[1];\n        const contentype = urlFileBase64.split(',')[0];\n        const contentype1 = contentype.split(';');\n        const contentype2 = contentype1[0].split(':');\n        this.blob = this.b64toBlob(realData, contentype2[1]);\n        // this.createDirectoryForActivitieSelected(this.infoActivity.id, blob, extensionBase64);\n      };\n      setTimeout(() => {\n        objFile = {\n          id: uuidv4(),\n          file,\n          blob: this.blob,\n          extension: this.extensionFile,\n          fileAsistenciaEventos: this.asistenteEventosPYP,\n          fileEvaluacionEventos: this.evaluacionEventos,\n        };\n        this.archivo = objFile;\n        this.fileAttach.push(objFile);\n        this.disableButtons = false;\n      }, 3000);\n    } else {\n      this.inputFile.nativeElement.value = '';\n      this.notification('Atención', 'El archivo supera el limite permitido de 1MB');\n    }\n  }\n\n  b64toBlob(b64Data, contentType) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n    const sliceSize = 512;\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    const blob = new Blob(byteArrays, { type: contentType });\n    return blob;\n  }\n\n  async createDirectoryForActivitieSelected(idActividad, blob, extensionBase64, idTipoArchivo) {\n    try {\n      const UUID = `${idActividad}` + '-' + new Date().getTime().toString(16);\n\n      await Filesystem.writeFile({\n        path: `${idActividad}/${UUID}.pdf`,\n        directory: Directory.Data,\n        data: await this.blobToBase64(blob),\n        recursive: true,\n      });\n\n      const objetoActividad = {\n        idActividad,\n        nombreArchivo: UUID + '.pdf',\n        tipoDocumento: idTipoArchivo,\n        extensionBase64,\n      };\n\n      this.cacheService.saveAttachDocs(objetoActividad);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  adjuntar() {\n    const documentosAdjuntos = this.listaDocumentos.concat(this.filesAdjuntos);\n\n    if (documentosAdjuntos.length < 6) {\n      const tipoArchivo = this.validarTipoArchivo(this.formSupportType.get('type').value);\n\n      if (tipoArchivo) {\n        if (this.accionARealizar === 'foto') {\n          const objGuardar = {\n            idActividad: this.infoActivity.id,\n            tipoArchivo,\n            idTipoArchivo: this.formSupportType.get('type').value,\n            foto: this.foto,\n          };\n          this.listaDocumentos.push(objGuardar);\n          this.formSupportType.get('type').reset();\n          return;\n        }\n\n        if (this.accionARealizar === 'documento') {\n          const objGuardarDocumento = {\n            idActividad: this.infoActivity.id,\n            tipoArchivo,\n            idTipoArchivo: this.formSupportType.get('type').value,\n            documento: this.archivo,\n          };\n          this.filesAdjuntos.push(objGuardarDocumento);\n          this.archivo = undefined;\n          this.formSupportType.get('type').reset();\n          return;\n        }\n      } else {\n        this.notification('Atención', 'No puede adjuntar el documento sin seleccionar un tipo de archivo');\n      }\n    } else {\n      this.notification('Alerta', 'No se pueden adjuntar mas de 6 documentos');\n      this.formSupportType.get('type').reset();\n      const tag: any = document.getElementById('file-input');\n      if (tag.value) {\n        tag.value = '';\n      }\n    }\n  }\n\n  save() {\n    this.filesAdjuntos.forEach(element => {\n      this.createDirectoryForActivitieSelected(\n        this.infoActivity.id,\n        element.documento.blob,\n        element.documento.extension,\n        element.idTipoArchivo\n      );\n    });\n\n    const documentosAdjuntos = this.listaDocumentos.concat(this.filesAdjuntos);\n\n    const objSoportesPorActividad = {\n      idActividad: this.infoActivity.id,\n      cantidadDocumentosAdjuntos: documentosAdjuntos.length,\n    };\n\n    // this.cacheService.infoDocumentosPorActividad = [];\n    this.cacheService.infoActividadPorDocumento(objSoportesPorActividad);\n\n    // this.cacheService.fotosAdjuntas = [];\n    this.cacheService.infoFotosAdjuntas(this.listaDocumentos);\n\n    // this.cacheService.pdfAdjuntos = [];\n    this.cacheService.infoPDFAdjuntos(this.filesAdjuntos);\n\n    this.router.navigateByUrl('/u/execLog/pending-visits/visit-id/subjects');\n  }\n\n  validarTipoArchivo(tipo) {\n    switch (tipo) {\n      case 'AEP':\n        return 'Asistencia a eventos de P y P';\n      case 'EE':\n        return 'Evaluación de eventos';\n      case 'CRSC':\n        return 'Certificación de recibo a satisfacción cliente';\n      case 'DIUEP1':\n        return 'Diagnóstico integral UEP 1';\n      case 'DIUEP2':\n        return 'Diagnóstico integral UEP 2';\n      case 'DIUEP3':\n        return 'Diagnóstico integral UEP 3';\n      case 'IT':\n        return 'Informes Técnicos';\n      case 'REPVE':\n        return 'Registro de exámenes de programa de vigilancia epidemiológica';\n      case 'SR':\n        return 'Seguimiento recomendaciones';\n      default:\n        break;\n    }\n  }\n\n  async notification(titulo, notificacion) {\n    const alert = await this.alertController.create({\n      header: titulo,\n      backdropDismiss: false,\n      mode: 'ios',\n      message: notificacion,\n      buttons: ['ACEPTAR'],\n    });\n\n    alert.onDidDismiss();\n\n    await alert.present();\n  }\n\n  /**\n   * Convierte una respresentación _Blob_ a su par _Base64_.\n   *\n   * @param blob Representación _Blob_.\n   */\n  private blobToBase64(blob: Blob): Promise<string> {\n    return new Promise((resolve, _) => {\n      const reader = this.getFileReader();\n      reader.onloadend = () => resolve(reader.result.toString());\n      reader.readAsDataURL(blob);\n    });\n  }\n}\n"]}