{"version":3,"sources":["./src/app/pages/release-activities/release-activities-routing.module.ts","./src/app/pages/release-activities/release-activities.module.ts","./src/app/pages/release-activities/release-activities.page.ts","./src/app/pages/release-activities/release-activities.page.html"],"names":[],"mappings":"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","file":"release-activities-release-activities-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReleaseActivitiesPage } from './release-activities.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReleaseActivitiesPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReleaseActivitiesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReleaseActivitiesPageRoutingModule } from './release-activities-routing.module';\n\nimport { ReleaseActivitiesPage } from './release-activities.page';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, PipesModule, ReleaseActivitiesPageRoutingModule],\n  declarations: [ReleaseActivitiesPage],\n})\nexport class ReleaseActivitiesPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { ActivityListCompanyService } from '../../services/activities/activityListCompany/activity-list-company.service';\nimport { liberarActividades } from '../../intarfaces/interfaces';\nimport { CacheService } from '../../services/cache/cache.service';\nimport { NetworkService } from '../../services/network/network.service';\n\n@Component({\n  selector: 'app-release-activities',\n  templateUrl: './release-activities.page.html',\n  styleUrls: ['./release-activities.page.scss'],\n})\nexport class ReleaseActivitiesPage implements OnInit {\n  response: any[] = [\n    {\n      numeroDocumento: '123456',\n      name: 'Coca cola',\n      listaActividades: [\n        {\n          id: 1,\n          codigo: 'Codigo 1',\n        },\n        {\n          id: 2,\n          codigo: 'Codigo 2',\n        },\n      ],\n    },\n    {\n      numeroDocumento: '789012',\n      name: 'ADA',\n      listaActividades: [\n        {\n          id: 3,\n          codigo: 'Codigo 3',\n        },\n      ],\n    },\n  ];\n\n  listActivity: any[] = [];\n\n  textoBuscar: string;\n\n  lines: string;\n\n  actividadesSeleccionadas: any[] = [];\n\n  isSelectecActivity = false;\n\n  loading: any;\n\n  informacionUsuario: any;\n\n  constructor(\n    private loadingCtlr: LoadingController,\n    private cacheService: CacheService,\n    private alertController: AlertController,\n    private listActivitiesCompany: ActivityListCompanyService,\n    private net: NetworkService,\n    private storage: Storage\n  ) {\n    this.lines = 'none';\n  }\n\n  ionViewWillEnter() {\n    this.listActivities();\n    this.net.showIPAddress();\n  }\n\n  ngOnInit() {}\n\n  async listActivities() {\n    this.informacionUsuario = await this.storage.get('sesion');\n    this.presentLoading();\n    const actividades = await this.listActivitiesCompany.listActivityForCompany(this.informacionUsuario.idPersona).toPromise();\n    this.listActivity = actividades.listActivitiesCompany;\n    this.loading.dismiss();\n  }\n\n  search(event) {\n    this.textoBuscar = event.detail.value;\n  }\n\n  activitySelected(actividadSeleccionada) {\n    const idSelected = actividadSeleccionada.id;\n    const existe = this.actividadesSeleccionadas.find(item => item.id === idSelected);\n    if (existe) {\n      this.actividadesSeleccionadas.forEach(element => {\n        const item = element;\n        if (item === existe) {\n          this.actividadesSeleccionadas.splice(existe, 1);\n        }\n      });\n    } else {\n      this.actividadesSeleccionadas.push(actividadSeleccionada);\n    }\n  }\n\n  async liberarActividad() {\n    this.presentLoading();\n    const idActividadesSeleccionadas = [];\n    this.actividadesSeleccionadas.forEach(element => {\n      idActividadesSeleccionadas.push(element.id);\n    });\n    const objLiberar: liberarActividades = {\n      ListaIdsActividades: idActividadesSeleccionadas,\n      direccionIP: this.cacheService.ipAddress,\n      CedulaUsuarioModifica: this.informacionUsuario.idPersona,\n    };\n    const siLiberoActividades = await this.listActivitiesCompany.liberarActivities(objLiberar).toPromise();\n    if (siLiberoActividades) {\n      this.notification('Atención', 'Se logró liberar la(s) actividad(es) seleccionadas');\n      this.listActivities();\n    } else {\n      this.notification('Error', 'Ocurrio un error al tratar de liberar la actividad');\n    }\n    this.loading.dismiss();\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingCtlr.create({\n      mode: 'ios',\n      message: 'Cargando',\n    });\n    return this.loading.present();\n  }\n\n  async notification(titulo, notificacion) {\n    const alert = await this.alertController.create({\n      header: titulo,\n      backdropDismiss: false,\n      mode: 'ios',\n      message: notificacion,\n      buttons: ['ACEPTAR'],\n    });\n\n    alert.onDidDismiss();\n\n    await alert.present();\n  }\n}\n","<ion-header>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"2\">\n        <ion-toolbar color=\"tertiary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button color=\"primary\" mode=\"md\" defaultHref=\"/\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n      <ion-col size=\"10\">\n        <ion-title class=\"titulo\">Liberar Actividades</ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-searchbar animated color=\"primary\" placeholder=\"Buscar\" (ionChange)=\"search($event)\"></ion-searchbar>\n\n  <ion-slides mode=\"ios\" *ngIf=\"listActivity.length === 0\">\n    <!-- <ion-slides mode=\"ios\" *ngIf=\"showListPendingVisit\"> -->\n    <ion-slide>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"12\">\n            <div class=\"ion-text-center\">\n              <img class=\"imgIcono\" src=\"../../../assets/icon/icono_observaciones.svg\" alt=\"\" />\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"12\">\n            <strong>\n              <h1 class=\"tituloSlide\">\n                No tiene actividades para liberar, debes de migrar actividades desde la web para poderlas liberar.\n              </h1>\n            </strong>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n\n  <ion-list *ngIf=\"listActivity.length > 0\">\n    <ion-row\n      class=\"ion-margin-bottom\"\n      *ngFor=\"let company of listActivity | searchCompanyList: textoBuscar : ['numeroDocumento', 'name']; let i = index\"\n    >\n      <ion-col size=\"12\">\n        <div class=\"ion-text-center\">\n          <div class=\"bold\">Nombre Empresa</div>\n          <div>{{company.name}}</div>\n        </div>\n        <div class=\"ion-text-center\">\n          <div class=\"bold\">Documento Identificación</div>\n          <div>{{company.numeroDocumento}}</div>\n        </div>\n      </ion-col>\n      <ion-col size=\"12\" *ngFor=\"let activity of company.listaActividadesMigradas; let j = index\">\n        <ion-card mode=\"ios\">\n          <ion-card-content mode=\"ios\">\n            <ion-list>\n              <ion-item lines=\"none\">\n                <ion-grid>\n                  <ion-row>\n                    <ion-col size=\"12\">\n                      <ion-label><strong>código actividad</strong></ion-label>\n                    </ion-col>\n                  </ion-row>\n                  <ion-row>\n                    <ion-col size=\"12\">\n                      <p>{{activity.idActividad}}</p>\n                    </ion-col>\n                  </ion-row>\n                  <ion-row>\n                    <ion-col size=\"12\">\n                      <ion-label><strong>Descripción actividad</strong></ion-label>\n                    </ion-col>\n                  </ion-row>\n                  <ion-row>\n                    <ion-col size=\"12\">\n                      <p>{{activity.descripcionActividad}}</p>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label><strong>Seleccionar actividad</strong></ion-label>\n                <ion-checkbox slot=\"end\" [value]=\"isSelectecActivity\" color=\"primary\" (click)=\"activitySelected(activity)\"></ion-checkbox>\n              </ion-item>\n            </ion-list>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col size=\"12\">\n        <ion-button (click)=\"liberarActividad()\" expand=\"block\" color=\"primary\"> Liberar actividad </ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-list>\n</ion-content>\n"],"sourceRoot":"webpack:///"}